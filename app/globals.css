@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Default light theme */
  --background: linear-gradient(135deg, #ffffff 0%, #f1f5f9 100%);
  --foreground: #0f172a;
  --surface: rgba(255, 255, 255, 0.95);
  --border: rgba(15, 23, 42, 0.15);
  --accent: #6366f1;
  --primary: #4f46e5;
  --secondary: #059669;
  --muted: #475569;
  --card-bg: rgba(255, 255, 255, 0.95);
  --glass-bg: rgba(255, 255, 255, 0.7);
  --glass-border: rgba(15, 23, 42, 0.1);
}

.dark {
  /* Dark theme */
  --background: #0b1020b0;
  --foreground: #e5e7eb;
  --surface: rgba(255, 255, 255, 0.05);
  --border: rgba(255, 255, 255, 0.08);
  --accent: #818cf8;
  --primary: #6366f1;
  --secondary: #10b981;
  --muted: #94a3b8;
  --card-bg: rgba(0, 0, 0, 0.2);
  --glass-bg: rgba(255, 255, 255, 0.05);
  --glass-border: rgba(255, 255, 255, 0.1);
  --gradient-shadowGlow: linear-gradient(
		45deg,
		#00ff00,
		#ffff00,
		#00ff00,
		#ffff00
	);
}

.custom {
  /* Custom theme - will be overridden by JavaScript */
  --background: var(--custom-background, #0b1020b0);
  --foreground: var(--custom-foreground, #e5e7eb);
  --surface: var(--custom-surface, rgba(255, 255, 255, 0.05));
  --border: var(--custom-border, rgba(255, 255, 255, 0.08));
  --accent: var(--custom-accent, #6366f1);
  --primary: var(--custom-primary, #4f46e5);
  --secondary: var(--custom-secondary, #10b981);
  --muted: var(--custom-muted, #94a3b8);
  --card-bg: var(--custom-card-bg, rgba(0, 0, 0, 0.4));
  --glass-bg: var(--custom-glass-bg, rgba(255, 255, 255, 0.05));
  --glass-border: var(--custom-glass-border, rgba(255, 255, 255, 0.1));
}

.shadowGlow {
	display: flex;
	justify-content: center;
	align-items: center;
	position: relative;
	color: #fff;
	text-align: center;
	font-size: 50px;
	font-weight: bold;
	width: 400px;
	height: 250px;
	background: linear-gradient(0deg, #000, #262626);
}
.shadowGlow:before,
.shadowGlow:after {
	content: "";
	position: absolute;
	top: -2px;
	left: -2px;
	background: var(--gradient-shadowGlow);
	background-size: 400%;
	width: calc(100% + 4px);
	height: calc(100% + 4px);
	z-index: -1;
	animation: animate 5s linear infinite;
}

.shadowGlow:after {
	filter: blur(20px);
}

@keyframes animate {
	0% {
		background-position: 0 0;

/* Flash glow for updated values */
.flash { position: relative; }
.flash::after {
  content: "";
  position: absolute;
  inset: -3px;
  border-radius: inherit;
  pointer-events: none;
  box-shadow: 0 0 24px 6px var(--flash-color, rgba(16,185,129,0.35));
  animation: flashPulse 700ms ease-out;
}
@keyframes flashPulse { 0% { opacity: 0; } 20% { opacity: 1; } 100% { opacity: 0; } }
.flash-emerald { --flash-color: rgba(16,185,129,0.35); }
.flash-indigo { --flash-color: rgba(99,102,241,0.35); }
.flash-blue { --flash-color: rgba(59,130,246,0.35); }
.flash-amber { --flash-color: rgba(245,158,11,0.35); }

/* Subtle text pulse for updated number text */
.flash-text { animation: textPulse 700ms ease-out; }
@keyframes textPulse { 0% { text-shadow: none; } 30% { text-shadow: 0 0 16px rgba(16,185,129,0.7); } 100% { text-shadow: none; } }

/* Progress bar shine sweep when value updates */
.progress-shine { position: relative; overflow: hidden; }
.progress-shine::after {
  content: "";
  position: absolute;
  top: 0; bottom: 0; left: -40%;
  width: 40%;
  background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,0.35), rgba(255,255,255,0));
  transform: translateX(-60%);
  opacity: 0;
}
.progress-shine.shine-active::after { animation: shine-sweep 800ms ease-out; opacity: 1; }
@keyframes shine-sweep { from { transform: translateX(-60%); } to { transform: translateX(160%); } }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .flash::after { animation: none !important; }
  .flash-text { animation: none !important; }
  .progress-shine::after { animation: none !important; }
}


	}
	50% {
		background-position: 300% 0;
	}
	100% {
		background-position: 0 0;
	}
}

body {
  color: var(--foreground);
  /* Fallback for older browsers */
  background: var(--background);
  /* Modern browsers with color-mix support */
  background: radial-gradient(1200px 800px at 10% -10%, color-mix(in srgb, var(--primary) 15%, transparent), transparent 60%),
              radial-gradient(1000px 700px at 110% 10%, color-mix(in srgb, var(--secondary) 12%, transparent), transparent 60%),
              var(--background);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  transition: background 0.3s ease, color 0.3s ease;
}

/* Glass utility */
.glass {
  @apply backdrop-blur-xl rounded-2xl ring-1 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.06)];
  background: var(--glass-bg);
  border-color: var(--glass-border);
}

/* Theme-aware utilities */
.bg-primary { background-color: var(--primary); }
.bg-secondary { background-color: var(--secondary); }
.bg-accent { background-color: var(--accent); }
.bg-surface { background-color: var(--surface); }
.bg-card { background-color: var(--card-bg); }

.text-primary { color: var(--primary); }
.text-secondary { color: var(--secondary); }
.text-accent { color: var(--accent); }
.text-muted { color: var(--muted); }

.border-primary { border-color: var(--primary); }
.border-secondary { border-color: var(--secondary); }
.border-accent { border-color: var(--accent); }
.border-surface { border-color: var(--border); }

.ring-primary { --tw-ring-color: var(--primary); }
.ring-secondary { --tw-ring-color: var(--secondary); }
.ring-accent { --tw-ring-color: var(--accent); }

/* Smooth transitions for theme changes */
* {
  transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}

/* Beautiful glass effects for both themes */
.glass {
  background: var(--glass-bg) !important;
  border: 1px solid var(--glass-border) !important;
  backdrop-filter: blur(20px) saturate(150%);
  -webkit-backdrop-filter: blur(20px) saturate(150%);
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.dark .glass {
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/* Enhanced text readability on transparent glass */
.glass * {
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

.light .glass * {
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
}

.bg-black\/40 {
  background: var(--glass-bg) !important;
  backdrop-filter: blur(20px) saturate(150%);
  -webkit-backdrop-filter: blur(20px) saturate(150%);
}

.bg-black\/50 {
  background: var(--glass-bg) !important;
  backdrop-filter: blur(20px) saturate(150%);
  -webkit-backdrop-filter: blur(20px) saturate(150%);
}

.bg-white\/5 {
  background: var(--glass-bg) !important;
  backdrop-filter: blur(20px) saturate(150%);
  -webkit-backdrop-filter: blur(20px) saturate(150%);
}

/* Force theme colors on common elements */
.bg-gradient-to-br {
  background: var(--glass-bg) !important;
}

.border-white\/10 {
  border-color: var(--glass-border) !important;
}

/* Enhanced card backgrounds with glass effects */
.rounded-xl.border {
  background: var(--glass-bg) !important;
  border: 1px solid var(--glass-border) !important;
  backdrop-filter: blur(20px) saturate(150%);
  -webkit-backdrop-filter: blur(20px) saturate(150%);
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.dark .rounded-xl.border {
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/* Enhanced navbar glass effects */
.backdrop-blur-xl {
  backdrop-filter: blur(20px) saturate(150%) !important;
  -webkit-backdrop-filter: blur(20px) saturate(150%) !important;
}

/* Beautiful input fields */
input, select, textarea {
  background: var(--glass-bg) !important;
  border: 1px solid var(--glass-border) !important;
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
}

/* Progress bars and other elements */
.bg-gradient-to-r {
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
}

.light .text-white {
  color: var(--foreground) !important;
}

.light .text-gray-200 {
  color: var(--muted) !important;
}

/* Chart text colors - Recharts styling */
.recharts-text {
  fill: var(--foreground) !important;
}

.recharts-legend-item-text {
  color: var(--foreground) !important;
}

.recharts-tooltip-wrapper {
  color: var(--foreground) !important;
}

.recharts-tooltip-item {
  color: var(--foreground) !important;
}

.recharts-tooltip-label {
  color: var(--foreground) !important;
}

/* Light mode chart overrides */
.light .recharts-text {
  fill: var(--foreground) !important;
}

.light .recharts-legend-item-text {
  color: var(--foreground) !important;
}

/* Dark mode chart overrides */
.dark .recharts-text {
  fill: var(--foreground) !important;
}

.dark .recharts-legend-item-text {
  color: var(--foreground) !important;
}

.light .text-gray-300 {
  color: var(--foreground) !important;
}

.light .border-white\/10 {
  border-color: rgba(0, 0, 0, 0.1) !important;
}

.light .bg-white\/5 {
  background: rgba(0, 0, 0, 0.05) !important;
}


/* Ensure scrollbar styles are applied globally */
::-webkit-scrollbar {
  width: 6px;
}
::-webkit-scrollbar-track {
  background: #1f2937;
  border-radius: 4px;
}
::-webkit-scrollbar-thumb {
  background: #4f46e5;
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: #6366f1;
}


/* Animated border trail support */
@keyframes trail-rotate { to { --angle: 360deg; } }
.animate-trail { animation: trail-rotate var(--duration, 10s) linear infinite; }

 /* Angle */
@property --angle {
  syntax: "<angle>";
  initial-value: 0deg;
  inherits: false;
}